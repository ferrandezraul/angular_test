<div [hidden]="!dataSource?.data.length">

  <div class="row">
    <form novalidate [formGroup]="optionsSelectedForm">
      <mat-form-field appearance="fill">
        <mat-label>Equipo Fantasbeka</mat-label>
        <mat-select formControlName="equipoSelected" (selectionChange)="onEquipoFantasbekaSelected($event.value)">
          <mat-option *ngFor="let equipo of nombreEquiposFantasbeka()" [value]="equipo">{{equipo}}</mat-option>
        </mat-select>
      </mat-form-field>
  
      <mat-form-field appearance="fill">
        <mat-label>Demarcacion</mat-label>
        <mat-select formControlName="demarcacionSelected" (selectionChange)="onDemarcacionSelected($event.value)">
          <mat-option *ngFor="let demarcacion of demarcaciones()" [value]="demarcacion">{{demarcacion}}</mat-option>
        </mat-select>
      </mat-form-field>
  
      <mat-form-field appearance="fill">
        <mat-label>Equipo LFP</mat-label>
        <mat-select formControlName="equipoLfpSelected" (selectionChange)="onEquipoLfpSelected($event.value)">
          <mat-option *ngFor="let equipoLfp of nombreEquiposLfP()" [value]="equipoLfp">{{equipoLfp}}</mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </div>

  <div class="mat-elevation-z8">

    <table mat-table [dataSource]="dataSource" matSort class="full-width-table" aria-label="Elements">
      <!-- Columna Numero -->
      <ng-container matColumnDef="num">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Num.</th>
        <td mat-cell *matCellDef="let i = index">
          {{this.paginator.pageIndex == 0 ? i + 1 : 1 + i + this.paginator.pageIndex * this.paginator.pageSize}}
          </td>
      </ng-container>
  
      <!-- Columna nombre -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
        <td mat-cell *matCellDef="let row">
          <a mat-button routerLink="{{'/jugador/' + row.id}}">
            {{row.nombre}}
          </a>
        </td>
      </ng-container>
  
      <!-- Columna demarcacion -->
      <ng-container matColumnDef="demarcacion">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Demarcacion</th>
        <td mat-cell *matCellDef="let row">{{row.demarcacion}}</td>
      </ng-container>
  
      <!-- Columna equipo LFP -->
      <ng-container matColumnDef="equipoLfp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Equipo</th>
        <td mat-cell *matCellDef="let row">{{row.equipoLfp}}</td>
      </ng-container>

      <!-- Columna Fantas Club -->
      <ng-container matColumnDef="equipoFb">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Fantas Club</th>
        <td mat-cell *matCellDef="let row">{{row.equipoFb}}</td>
      </ng-container>

      <!-- Columna Precio -->
      <ng-container matColumnDef="precio">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Precio</th>
        <td mat-cell *matCellDef="let row">{{row.precio}}</td>
      </ng-container>

      <!-- Columna Jugados -->
      <ng-container matColumnDef="puntosJugados">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Jugados</th>
        <td mat-cell *matCellDef="let row">{{row.puntosJugados}}</td>
      </ng-container>

      <!-- Columna Ganados -->
      <ng-container matColumnDef="puntosGanados">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ganados</th>
        <td mat-cell *matCellDef="let row">{{row.puntosGanados}}</td>
      </ng-container>

      <!-- Columna Marca -->
      <ng-container matColumnDef="puntosMarca">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Marca</th>
        <td mat-cell *matCellDef="let row">{{row.puntosMarca}}</td>
      </ng-container>

      <!-- Columna As -->
      <ng-container matColumnDef="puntosAs">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>As</th>
        <td mat-cell *matCellDef="let row">{{row.puntosAs}}</td>
      </ng-container>

      <!-- Columna Marca y As -->
      <ng-container matColumnDef="puntosCalculados">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>As</th>
        <td mat-cell *matCellDef="let row">{{row.puntosCalculados}}</td>
      </ng-container>

      <!-- Columna Otros -->
      <ng-container matColumnDef="puntosOtros">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Goles y demas</th>
        <td mat-cell *matCellDef="let row">{{row.puntosOtros}}</td>
      </ng-container>

      <!-- Columna Total -->
      <ng-container matColumnDef="puntosTotal">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Total</th>
        <td mat-cell *matCellDef="let row">{{row.puntosTotal}}</td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  
    <mat-paginator #paginator
        [length]="dataSource?.data.length"
        [pageIndex]="0"
        [pageSize]="50"
        [pageSizeOptions]="[25, 50, 100, 250]">
    </mat-paginator>
  </div>

</div>

<div [hidden]="dataSource?.data.length">
  <div fxLayoutAlign="center center">
    <mat-spinner></mat-spinner>
  </div>
  <div fxLayoutAlign="center center">
    <h4>Cargando . . . </h4>
  </div>
</div>



